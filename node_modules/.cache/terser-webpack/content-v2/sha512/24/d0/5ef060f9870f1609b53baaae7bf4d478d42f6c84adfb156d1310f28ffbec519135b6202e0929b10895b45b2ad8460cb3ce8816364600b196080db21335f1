{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{uj9Q:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"MusicRegisterPageModule\",function(){return m});var n=i(\"ofXK\"),o=i(\"3Pt+\"),r=i(\"TEn/\"),s=i(\"tyNb\"),c=i(\"mrSG\"),a=i(\"fXoL\"),b=i(\"I/3d\"),u=i(\"UbJi\"),l=i(\"lGQG\");const d=[{path:\"\",component:(()=>{class t{constructor(t,e,i,n,o){this.firestore=t,this.afAuth=e,this.authSvc=i,this.router=n,this.toastController=o,this.afAuth.authState.subscribe(t=>{t&&(this.userId=t.uid)})}toastusuarioyaregistrado(){return Object(c.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:\"Ya has registrado una cuenta con este Email.\",duration:2e3,cssClass:\"eltoast\",color:\"light\",buttons:[{side:\"start\",icon:\"lock-closed\"}]})).present()})}onRegister(t,e){return Object(c.b)(this,void 0,void 0,function*(){try{const i=yield this.authSvc.register(t.value,e.value);if(i){const t=this.authSvc.isEmailVerified(i);return this.redirectUser(t),this.firestore.collection(\"users\").doc(this.userId).set({Password:e.value,rol:\"cliente\",Intro:\"False\",createdTime:new Date})}}catch(i){}})}redirectUser(t){this.router.navigate(t?[\"music-login\"]:[\"music-verifyemail\"])}ngOnInit(){}}return t.\\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(u.a),a.Mb(l.a),a.Mb(s.g),a.Mb(r.R))},t.\\u0275cmp=a.Gb({type:t,selectors:[[\"app-music-register\"]],decls:35,vars:0,consts:[[1,\"centro\"],[1,\"fondologin\"],[1,\"center\"],[\"name\",\"planet\",\"color\",\"light\",1,\"imagenintro\"],[1,\"card\"],[1,\"card2\"],[1,\"ion-text-center\"],[\"color\",\"warning\"],[\"lines\",\"full\"],[\"position\",\"floating\"],[\"type\",\"text\",\"required\",\"true\",\"maxlength\",\"40\",\"autocomplete\",\"\"],[\"email\",\"\"],[\"type\",\"password\",\"required\",\"true\",\"maxlength\",\"10\",\"minlength\",\"6\",\"name\",\"password\"],[\"password\",\"\"],[\"type\",\"submit\",\"shape\",\"round\",\"required\",\"\",\"color\",\"light\",\"mode\",\"ios\",1,\"center\",3,\"click\"],[\"routerLink\",\"/music-login\",\"color\",\"dark\",1,\"alreadyaccount\"]],template:function(t,e){if(1&t){const t=a.Qb();a.Pb(0,\"ion-content\",0),a.Pb(1,\"ion-content\"),a.Nb(2,\"div\",1),a.Nb(3,\"br\"),a.Pb(4,\"div\",2),a.Nb(5,\"ion-icon\",3),a.Ob(),a.Pb(6,\"div\",4),a.Pb(7,\"ion-card\",5),a.Pb(8,\"ion-card-content\"),a.Nb(9,\"br\"),a.Pb(10,\"h1\",6),a.qc(11,\" \\xa1Atr\\xe9vete! \"),a.Ob(),a.Pb(12,\"div\",7),a.Pb(13,\"form\"),a.Pb(14,\"ion-item\",8),a.Pb(15,\"ion-label\",9),a.qc(16,\"Email\"),a.Ob(),a.Nb(17,\"ion-input\",10,11),a.Ob(),a.Pb(19,\"ion-item\",8),a.Pb(20,\"ion-label\",9),a.qc(21,\"Contrase\\xf1a\"),a.Ob(),a.Nb(22,\"ion-input\",12,13),a.Ob(),a.Nb(24,\"br\"),a.Pb(25,\"ion-row\"),a.Pb(26,\"ion-col\"),a.Pb(27,\"ion-button\",14),a.Xb(\"click\",function(){a.lc(t);const i=a.kc(18),n=a.kc(23);return e.onRegister(i,n)}),a.qc(28,\"Listo\"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Nb(29,\"br\"),a.Pb(30,\"ion-row\"),a.Pb(31,\"ion-col\"),a.Pb(32,\"p\",6),a.Pb(33,\"a\",15),a.qc(34,\"\\xbfYa tienes una Cuenta? \"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}},directives:[r.h,r.l,r.e,r.f,o.n,o.i,o.j,r.o,r.p,r.n,r.Q,r.y,r.g,r.c,s.j,r.O],styles:[\"\"]}),t})()}];let h=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=a.Kb({type:t}),t.\\u0275inj=a.Jb({imports:[[s.k.forChild(d)],s.k]}),t})(),m=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=a.Kb({type:t}),t.\\u0275inj=a.Jb({imports:[[n.c,o.e,r.G,h]]}),t})()}}]);","name":"17.7b06200285d719ecf72f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[17],{\n\n/***/ \"uj9Q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"MusicRegisterPageModule\", function() { return /* binding */ music_register_module_MusicRegisterPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 9 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 2 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/fire/__ivy_ngcc__/fesm2015/angular-fire-firestore.js + 5 modules\nvar angular_fire_firestore = __webpack_require__(\"I/3d\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/fire/__ivy_ngcc__/fesm2015/angular-fire-auth.js + 3 modules\nvar angular_fire_auth = __webpack_require__(\"UbJi\");\n\n// EXTERNAL MODULE: ./src/app/services/auth.service.ts\nvar auth_service = __webpack_require__(\"lGQG\");\n\n// CONCATENATED MODULE: ./src/app/music/music-register/music-register.page.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet music_register_page_MusicRegisterPage = /*@__PURE__*/ (() => {\r\n    class MusicRegisterPage {\r\n        constructor(firestore, afAuth, authSvc, router, toastController) {\r\n            this.firestore = firestore;\r\n            this.afAuth = afAuth;\r\n            this.authSvc = authSvc;\r\n            this.router = router;\r\n            this.toastController = toastController;\r\n            this.afAuth.authState.subscribe(user => {\r\n                if (user) {\r\n                    this.userId = user.uid;\r\n                }\r\n            });\r\n        }\r\n        toastusuarioyaregistrado() {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const toast = yield this.toastController.create({\r\n                    message: 'Ya has registrado una cuenta con este Email.',\r\n                    duration: 2000,\r\n                    cssClass: 'eltoast',\r\n                    color: 'light',\r\n                    buttons: [\r\n                        {\r\n                            side: 'start',\r\n                            icon: 'lock-closed',\r\n                        }\r\n                    ]\r\n                });\r\n                toast.present();\r\n            });\r\n        }\r\n        onRegister(email, password) {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                try {\r\n                    const user = yield this.authSvc.register(email.value, password.value);\r\n                    if (user) {\r\n                        const isVerified = this.authSvc.isEmailVerified(user);\r\n                        this.redirectUser(isVerified);\r\n                        return this.firestore.collection('users').doc(this.userId).set({\r\n                            Password: password.value,\r\n                            rol: \"cliente\",\r\n                            Intro: \"False\",\r\n                            createdTime: new Date()\r\n                        });\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    /*   console.log('Error', error); */\r\n                }\r\n            });\r\n        }\r\n        redirectUser(isVerified) {\r\n            if (isVerified) {\r\n                this.router.navigate(['music-login']);\r\n            }\r\n            else {\r\n                this.router.navigate(['music-verifyemail']);\r\n            }\r\n        }\r\n        ngOnInit() {\r\n        }\r\n    }\r\n    MusicRegisterPage.ɵfac = function MusicRegisterPage_Factory(t) { return new (t || MusicRegisterPage)(core[\"Mb\" /* ɵɵdirectiveInject */](angular_fire_firestore[\"a\" /* AngularFirestore */]), core[\"Mb\" /* ɵɵdirectiveInject */](angular_fire_auth[\"a\" /* AngularFireAuth */]), core[\"Mb\" /* ɵɵdirectiveInject */](auth_service[\"a\" /* AuthService */]), core[\"Mb\" /* ɵɵdirectiveInject */](router[\"g\" /* Router */]), core[\"Mb\" /* ɵɵdirectiveInject */](ionic_angular[\"R\" /* ToastController */])); };\r\n    MusicRegisterPage.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: MusicRegisterPage, selectors: [[\"app-music-register\"]], decls: 35, vars: 0, consts: [[1, \"centro\"], [1, \"fondologin\"], [1, \"center\"], [\"name\", \"planet\", \"color\", \"light\", 1, \"imagenintro\"], [1, \"card\"], [1, \"card2\"], [1, \"ion-text-center\"], [\"color\", \"warning\"], [\"lines\", \"full\"], [\"position\", \"floating\"], [\"type\", \"text\", \"required\", \"true\", \"maxlength\", \"40\", \"autocomplete\", \"\"], [\"email\", \"\"], [\"type\", \"password\", \"required\", \"true\", \"maxlength\", \"10\", \"minlength\", \"6\", \"name\", \"password\"], [\"password\", \"\"], [\"type\", \"submit\", \"shape\", \"round\", \"required\", \"\", \"color\", \"light\", \"mode\", \"ios\", 1, \"center\", 3, \"click\"], [\"routerLink\", \"/music-login\", \"color\", \"dark\", 1, \"alreadyaccount\"]], template: function MusicRegisterPage_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                const _r2 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"ion-content\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](1, \"ion-content\");\r\n                core[\"Nb\" /* ɵɵelement */](2, \"div\", 1);\r\n                core[\"Nb\" /* ɵɵelement */](3, \"br\");\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"div\", 2);\r\n                core[\"Nb\" /* ɵɵelement */](5, \"ion-icon\", 3);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](6, \"div\", 4);\r\n                core[\"Pb\" /* ɵɵelementStart */](7, \"ion-card\", 5);\r\n                core[\"Pb\" /* ɵɵelementStart */](8, \"ion-card-content\");\r\n                core[\"Nb\" /* ɵɵelement */](9, \"br\");\r\n                core[\"Pb\" /* ɵɵelementStart */](10, \"h1\", 6);\r\n                core[\"qc\" /* ɵɵtext */](11, \" \\u00A1Atr\\u00E9vete! \");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](12, \"div\", 7);\r\n                core[\"Pb\" /* ɵɵelementStart */](13, \"form\");\r\n                core[\"Pb\" /* ɵɵelementStart */](14, \"ion-item\", 8);\r\n                core[\"Pb\" /* ɵɵelementStart */](15, \"ion-label\", 9);\r\n                core[\"qc\" /* ɵɵtext */](16, \"Email\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Nb\" /* ɵɵelement */](17, \"ion-input\", 10, 11);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](19, \"ion-item\", 8);\r\n                core[\"Pb\" /* ɵɵelementStart */](20, \"ion-label\", 9);\r\n                core[\"qc\" /* ɵɵtext */](21, \"Contrase\\u00F1a\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Nb\" /* ɵɵelement */](22, \"ion-input\", 12, 13);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Nb\" /* ɵɵelement */](24, \"br\");\r\n                core[\"Pb\" /* ɵɵelementStart */](25, \"ion-row\");\r\n                core[\"Pb\" /* ɵɵelementStart */](26, \"ion-col\");\r\n                core[\"Pb\" /* ɵɵelementStart */](27, \"ion-button\", 14);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function MusicRegisterPage_Template_ion_button_click_27_listener() { core[\"lc\" /* ɵɵrestoreView */](_r2); const _r0 = core[\"kc\" /* ɵɵreference */](18); const _r1 = core[\"kc\" /* ɵɵreference */](23); return ctx.onRegister(_r0, _r1); });\r\n                core[\"qc\" /* ɵɵtext */](28, \"Listo\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Nb\" /* ɵɵelement */](29, \"br\");\r\n                core[\"Pb\" /* ɵɵelementStart */](30, \"ion-row\");\r\n                core[\"Pb\" /* ɵɵelementStart */](31, \"ion-col\");\r\n                core[\"Pb\" /* ɵɵelementStart */](32, \"p\", 6);\r\n                core[\"Pb\" /* ɵɵelementStart */](33, \"a\", 15);\r\n                core[\"qc\" /* ɵɵtext */](34, \"\\u00BFYa tienes una Cuenta? \");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n        }, directives: [ionic_angular[\"h\" /* IonContent */], ionic_angular[\"l\" /* IonIcon */], ionic_angular[\"e\" /* IonCard */], ionic_angular[\"f\" /* IonCardContent */], fesm2015_forms[\"n\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"i\" /* NgControlStatusGroup */], fesm2015_forms[\"j\" /* NgForm */], ionic_angular[\"o\" /* IonItem */], ionic_angular[\"p\" /* IonLabel */], ionic_angular[\"n\" /* IonInput */], ionic_angular[\"Q\" /* TextValueAccessor */], ionic_angular[\"y\" /* IonRow */], ionic_angular[\"g\" /* IonCol */], ionic_angular[\"c\" /* IonButton */], router[\"j\" /* RouterLinkWithHref */], ionic_angular[\"O\" /* RouterLinkDelegate */]], styles: [\"\"] });\r\n    return MusicRegisterPage;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/music/music-register/music-register-routing.module.ts\n\r\n\r\n\r\n\r\nconst routes = [\r\n    {\r\n        path: '',\r\n        component: music_register_page_MusicRegisterPage\r\n    }\r\n];\r\nlet music_register_routing_module_MusicRegisterPageRoutingModule = /*@__PURE__*/ (() => {\r\n    class MusicRegisterPageRoutingModule {\r\n    }\r\n    MusicRegisterPageRoutingModule.ɵfac = function MusicRegisterPageRoutingModule_Factory(t) { return new (t || MusicRegisterPageRoutingModule)(); };\r\n    MusicRegisterPageRoutingModule.ɵmod = core[\"Kb\" /* ɵɵdefineNgModule */]({ type: MusicRegisterPageRoutingModule });\r\n    MusicRegisterPageRoutingModule.ɵinj = core[\"Jb\" /* ɵɵdefineInjector */]({ imports: [[router[\"k\" /* RouterModule */].forChild(routes)], router[\"k\" /* RouterModule */]] });\r\n    return MusicRegisterPageRoutingModule;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/music/music-register/music-register.module.ts\n\r\n\r\n\r\n\r\n\r\nlet music_register_module_MusicRegisterPageModule = /*@__PURE__*/ (() => {\r\n    class MusicRegisterPageModule {\r\n    }\r\n    MusicRegisterPageModule.ɵfac = function MusicRegisterPageModule_Factory(t) { return new (t || MusicRegisterPageModule)(); };\r\n    MusicRegisterPageModule.ɵmod = core[\"Kb\" /* ɵɵdefineNgModule */]({ type: MusicRegisterPageModule });\r\n    MusicRegisterPageModule.ɵinj = core[\"Jb\" /* ɵɵdefineInjector */]({ imports: [[\r\n                common[\"c\" /* CommonModule */],\r\n                fesm2015_forms[\"e\" /* FormsModule */],\r\n                ionic_angular[\"G\" /* IonicModule */],\r\n                music_register_routing_module_MusicRegisterPageRoutingModule\r\n            ]] });\r\n    return MusicRegisterPageModule;\r\n})();\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}