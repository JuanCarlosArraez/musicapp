{"version":3,"sources":["./src/app/music/music-register/music-register.page.scss","./src/app/music/music-register/music-register.page.ts","./src/app/music/music-register/music-register.page.html","./src/app/music/music-register/music-register-routing.module.ts","./src/app/music/music-register/music-register.module.ts"],"names":[],"mappings":"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","file":"music-music-register-music-register-module.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtdXNpYy1yZWdpc3Rlci5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController  } from '@ionic/angular';\r\n\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\n\r\n@Component({\r\n  selector: 'app-music-register',\r\n  templateUrl: './music-register.page.html',\r\n  styleUrls: ['./music-register.page.scss'],\r\n})\r\nexport class MusicRegisterPage implements OnInit {\r\n  userId: string;\r\n\r\n  constructor(\r\n    private firestore: AngularFirestore,\r\n    public afAuth: AngularFireAuth, \r\n    private authSvc: AuthService,\r\n    private router: Router, \r\n    public toastController: ToastController,\r\n    )\r\n    { \r\n    this.afAuth.authState.subscribe(user => {\r\n    if (user) {\r\n    this.userId = user.uid;\r\n    }\r\n    });\r\n  }\r\n      \r\n  async toastusuarioyaregistrado() {\r\n    const toast = await this.toastController.create({\r\n      message: 'Ya has registrado una cuenta con este Email.',\r\n      duration: 2000,\r\n      cssClass: 'eltoast',\r\n      color:'light',\r\n      buttons: [\r\n        {\r\n        side: 'start',\r\n        icon: 'lock-closed',\r\n        }\r\n        ]\r\n     });\r\n    toast.present();\r\n\r\n    }\r\n\r\n\r\n\r\n  async onRegister(email, password) {\r\n  try {\r\n  const user = await this.authSvc.register(email.value, password.value);\r\n  if (user) {\r\n      const isVerified = this.authSvc.isEmailVerified(user);\r\n      this.redirectUser(isVerified);\r\n      return  this.firestore.collection<any>('users').doc(this.userId).set({\r\n      \r\n        Password: password.value,\r\n        rol: \"cliente\",\r\n        Intro: \"False\",\r\n        createdTime: new Date()\r\n    });\r\n    }\r\n    }\r\n    catch (error) {\r\n    /*   console.log('Error', error); */\r\n    }\r\n    }\r\n\r\n    \r\n  private redirectUser(isVerified: boolean): void {\r\n    if (isVerified) {\r\n      this.router.navigate(['music-login']);\r\n      \r\n    } else {\r\n      this.router.navigate(['music-verifyemail']);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"\\r\\n\\r\\n<ion-content class=\\\"centro\\\">\\r\\n\\r\\n<ion-content>\\r\\n<div class=\\\"fondologin\\\"></div>\\r\\n\\r\\n<br>\\r\\n<div class=\\\"center\\\"><ion-icon name=\\\"planet\\\" color=\\\"light\\\" class=\\\"imagenintro\\\"></ion-icon></div>\\r\\n\\r\\n<div class=\\\"card\\\">\\r\\n<ion-card class=\\\"card2\\\">\\r\\n<ion-card-content>\\r\\n<br>\\r\\n\\r\\n<h1 class=\\\"ion-text-center\\\"> ¡Atrévete! </h1>\\r\\n<div color=\\\"warning\\\">\\r\\n<form>\\r\\n<ion-item lines=\\\"full\\\">\\r\\n<ion-label position=\\\"floating\\\">Email</ion-label>\\r\\n<ion-input type=\\\"text\\\" #email required=\\\"true\\\" maxlength=\\\"40\\\" autocomplete></ion-input>\\r\\n</ion-item>\\r\\n<ion-item lines=\\\"full\\\">\\r\\n<ion-label position=\\\"floating\\\">Contraseña</ion-label>\\r\\n<ion-input type=\\\"password\\\" #password required=\\\"true\\\" maxlength=\\\"10\\\" minlength=\\\"6\\\" name=\\\"password\\\" ></ion-input>\\r\\n</ion-item>\\r\\n<br>\\r\\n\\r\\n<ion-row>\\r\\n<ion-col>\\r\\n<ion-button class=\\\"center\\\" type=\\\"submit\\\" (click)=\\\"onRegister(email, password)\\\" shape=\\\"round\\\" required\\r\\ncolor=\\\"light\\\"\\r\\nmode=\\\"ios\\\">Listo</ion-button>\\r\\n</ion-col>\\r\\n</ion-row>\\r\\n</form>\\r\\n \\r\\n</div>\\r\\n</ion-card-content>\\r\\n</ion-card>\\r\\n</div>\\r\\n<br>\\r\\n\\r\\n\\r\\n<ion-row>\\r\\n<ion-col>\\r\\n<p class=\\\"ion-text-center\\\">\\r\\n<a routerLink=\\\"/music-login\\\" color=\\\"dark\\\" class=\\\"alreadyaccount\\\">¿Ya tienes una Cuenta? </a>\\r\\n</p>\\r\\n</ion-col>\\r\\n</ion-row>\\r\\n\\r\\n \\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MusicRegisterPage } from './music-register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MusicRegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MusicRegisterPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MusicRegisterPageRoutingModule } from './music-register-routing.module';\r\n\r\nimport { MusicRegisterPage } from './music-register.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MusicRegisterPageRoutingModule\r\n  ],\r\n  declarations: [MusicRegisterPage]\r\n})\r\nexport class MusicRegisterPageModule {}\r\n"],"sourceRoot":"webpack:///"}